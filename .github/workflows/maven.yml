# This workflow will build a Java project with Maven, and cache/restore any dependencies to improve the workflow execution time
# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-maven

name: Java CI with Maven

on:
  push:
    branches: [ master ]
jobs:
  deploy-staging:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: current date
        id: date
        run: |
          sudo unlink /etc/localtime
          sudo ln -s /usr/share/zoneinfo/Asia/Kolkata /etc/localtime
          echo "::set-output name=date::$(date +'%Y-%m-%dT%H:%M:%S')"
      - name: Env variables
        env:
          url: ${{ GITHUB_SERVER_URL }}
          repo: ${{ GITHUB_REPOSITORY }}
          id: ${{ GITHUB_RUN_ID }}
          number: ${{ GITHUB_RUN_NUMBER }}
          status: ${{ CI }}
          
        run: |
          
          echo $url/$repo/actions/runs/$id 
          echo "buildDisplayName": "github.$number" 
          echo "buildDuration": "00:00:56"
          echo "buildStartDate": ${{ steps.date.outputs.date }}
          echo "buildStatus": $status
          echo "projectId": 59
          #curl -H "Accept: application/vnd.github.v3+json"  https://api.github.com/repos/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID/timing
      
          
      
     
